<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Pet Shop</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

    <h1>Edit Product</h1>

    <form action="#" th:action="@{/editproduct/{id}(id=*{productId})}"  th:object=${product} method="post">

        <input type="hidden" th:field="*{productId}" />
        <p>Name: <input type="text" th:field="*{name}" /></p>
        <p>Type: <input type="text" th:field="*{type}" /></p>
        <p>Color: <input type="text" th:field="*{color}" /></p>
        <p>Size: <input type="text" th:field="*{size}" /></p>
        <p>Price: <input type="text" th:field="*{price}" /></p>
        
        <label for="manufacturerlist">Manufacturer:</label>
        <select th:field="*{manufacturer}" id="manufacturerlist">
            <option th:each="manufacturer : ${manufacturers}" th:value="${manufacturer.manufacturerId}"
                th:text="${manufacturer.name}">
            </option>
        </select>
        <br>

        <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        <p th:if="${#fields.hasErrors('price')}" th:text="${priceErrorMessage}"></p>
        <p th:if="${#fields.hasErrors('manufacturer')}" th:errors="*{manufacturer}"></p>
        
        <input type="submit" value="Save" /> 
        <a th:href="@{/editproduct/{id}(id=${product.productId})}">Reset</a>

    </form>

    <a href="/products" class="btn btn-success">Back to Products</a>

</body>

</html>